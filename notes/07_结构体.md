
结构体是由一系列具有相同类型或不同类型的数据构成的数据集合。


# 声明及初始化
声明语法：
```go
type StructName struct {
    field1 type1
    field2 type2
    ...
}
```
struct 语句创建一个结构体，包含 field1、field2...等成员变量。使用.访问结构体的成员。

字面量初始化：
```go
// ...
type person struct {
	Name string
	Age  int
}

func main() {
	// a := person{}
	// fmt.Println(a)  // { 0 }
	// a.Name = "chen"
	// a.Age = 29

	// 方式一：不用关心成员变量的顺序，给需要初始化的成员赋值，未赋值的默认零值。
	a := person{
		Name: "chen",
	}
	fmt.Println(a)

	// 方式二：按顺序初始化，可省略成员变量名称
	b := person{
		"yang",
		30,
	}
	fmt.Println(b)
}
// {chen 0}
// {yang 30}
```
推荐使用方式一初始化。


# 结构体也是值类型
```go
a := person{
    Name: "chen",
    Age:  29,
}
b := a
b.Name = "yang"
fmt.Println(a, b)
// {chen 29} {yang 29}
```

只需要将结构体声明为指针类型：
```go
a := &person{
    Name: "chen",
    Age:  29,
}
b := a
b.Name = "yang"
fmt.Println(a, b)
// &{yang 29} &{yang 29}
```
注意：b.Name 和 (*b).name 都是正确的访问方式。

传递给函数时，一般也是传递结构体的指针：
```go
// ...
func main() {
	a := &person{
		Name: "chen",
		Age:  29,
	}
	test(a)
	fmt.Println(a)
	// &{yang 29}
}

func test(a *person) { // person类型的
	a.Name = "yang"
}
```

# 匿名结构体
> (&)struct {
>     field1 type1
>     field2 type2
>     ...
> }{
>    ...初始化
>}

```go
a := &struct {
    Name string
    Age  int
}{
    Name: "chen",
    Age:  29,
}

fmt.Println(a)
// &{chen 29}
```

# 嵌套结构体
```go
type person struct {
	Name    string
	Age     int
	Contact struct {
		Phone, City string
	}
}

func main() {
	// a := person{}
	// fmt.Println(a)
	// { 0 { }}
	a := person{
		Name: "chen",
		Age:  29,
	}
	a.Contact.Phone = "123"
	a.Contact.City = "beijing"
	fmt.Println(a)
	// {chen 29 {123 beijing}}
}
```

# 在结构体中使用匿名字段
```go
type person struct {
	string
	int
}

func main() {
	a := person{
		"chen",
		29,
    }
    // 初始化时，不同于具名字段的是：值的类型必须与声明的类型的相同
	fmt.Println(a)
}
// {chen 29}
```

# 结构体的比较
结构体是值类型，相同类型的结构体变量是可比较的。如果成员字段是可比较的，并且对应的字段和值都相等，就是相等的。
```go
type person struct {
	string
	int
}

func main() {
	a := person{
		"chen",
		29,
	}
	b := person{
		"chen",
		29,
	}
	fmt.Println(a == b)
}
// true
```
如果成员字段是不可比较的，会报错：struct containing map[int]int cannot be compared
```go
type image struct {  
    data map[int]int
}
```




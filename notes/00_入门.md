Go 是一门编译型语言。
$ godoc -http-:8080

# 通过包（package）组织

Go 语言的代码通过包（package）组织，包类似于其它语言里的库（libraries）或者模块（modules）。一个包由位于单个目录下的一个或多个.go源代码文件组成, 目录定义包的作用。每个源文件都以一条 package 声明语句开始，这个例子里就是 package main, 表示该文件属于哪个包，紧跟着一系列导入（import）的包，之后是存储在这个文件里的程序语句。

```go
package main // 包的声明语句：该源文件是属于哪个包

import "fmt" // import语句导入依赖的其它包

func main() {
    fmt.Println("Hello, 世界")
}
```
组织规则：
- 每个目录一个只能有一个包
- main 包比较特殊。它定义了`一个独立可执行的程序`，而不是一个库。main 函数 也很特殊，它是整个程序执行的`入口`。main 函数一般调用其它包里的函数。
- 为结构定义的方法必须放在同一个包内，可以是不同的文件。


## fmt 包
fmt.Println
- 比如 fmt 包，就含有格式化输出、接收输入的函数。Println 是其中一个基础函数，可以打印以空格间隔的一个或多个值，并在最后添加一个换行符，从而输出一整行。
- 需要哪些包就导入哪些，多了还是少了，都会报错。

golang.org/x/tools/cmd/goimports: 可以根据需要自动添加或删除导入的包

- fmt.Println  可以打印出`字符串，和变量`，换行
- fmt.Printf  只可以打印出`格式化的字符串`，可以输出字符串类型的变量，不可以输出整形变量和整形，不换行


# 语法
## 命名规则：
- 字母、数字或下划线，数字不能开头
- 区分大小写
- 包一般是小写，包里的函数大写，表示是导出的，可以在包外访问，比如 fmt 包的 Printf 函数
- 推荐使用 驼峰式 命名

## 声明方式
- var
- const
- type
- func

> import 声明必须跟在文件的 package 声明之后。随后，则是组成程序的函数、变量、常量、类型的声明语句（分别由关键字func, var, const, type定义
>`包一级的声明顺序并不重要，在整个包的范围内都可访问，但函数内的必须先声明后使用`。
```go
package main

import "fmt"

func main() {
	fmt.Println(a + add(2, 3))
}

const a = 1;

func add(x int, y int) int {
	return x + y
}
```

注意：
- 常量、全局变量、类型可以直接按组声明。
- 常量、变量、类型、接口、结构、函数根据大小写来决定是否被外部包调用


# 变量
语法：
> var 变量名字 类型 = 表达式

只指定了类型，没有赋值。在Go语言中不存在未初始化的变量。

1. 默认的初始值：
    - 布尔型：false
    - 数值型：0
    - 字符串型： 空字符串（必须是双引号）
    - 接口或引用类型（包括slice、指针、map、chan和函数）：`nil`

2. 声明一组变量: 
    ```go
    var i, j, k int                 // int, int, int
    var b, f, s = true, 2.3, "four" // bool, float64, string

    // 因式分解声明方式
    var (
        a = 1
        b string = "go"
    )
    ```
3. 简短变量声明:
    > 语法: 名字 := 表达式，`函数内部`

    ```go
    i := 100
    i, k := 0, 1 // 对这些已经声明过的变量就只有赋值行为，比如 i 在这就是赋值的
    i, j = j, i // 交换 i 和 j 的值
    ```
    - `至少要声明一个新的变量`，否则报错



# 常量
## 数据类型
常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型。

语法：
> const identifier [type] = value

需要注意的是：
1. type 可省略：当常量的类型不确定时，会根据上下文来推断出它所需要具备的类型。
    ```go
    const a, b = 3, 4
    var c int
    c = int(math.Sqrt(a*a + b*b)) // func Sqrt(x float64) float64
    fmt.Println(c)
    // 5
    ```

2. 常量表达式的值必须在`编译期`能够计算确定的，而不是在运行期。
    ```go
    const c1 = 2/3 // 正确

    const c2 = getNumber() // 错误 自定义函数在编译时，均属于未知，因此无法用于常量的赋值，但内置函数可以使用，如：len()。
    ```

3. 允许使用并行赋值的形式
    ```go
    const (
        name, age, height = "chen", 25, 165
    )
    ```

4. 除了第一个外，其它的常量右边的初始化表达式都可以省略，如果省略，就表示使用前面的
    ```go
    const (
        a = 1
        b
        c = 2
        d
    )

    fmt.Println(a, b, c, d) // "1 1 2 2"
    ```


## 枚举
1. 普通枚举类型
iota 常量生成器
在一个const声明语句中，在第一个声明的常量所在的行，iota将会被置为0，然后在每一个有常量声明的行加一。
```go
type Weekday int

const (
    Sunday Weekday = iota
    Monday
    Tuesday
    Wednesday
    Thursday
    Friday
    Saturday
)
// 0 1 2 3 4 5 6
```
```go
const (
    c = iota
    _
    python
    golang
    javascript
)
fmt.Println(c, javascript, python, golang)
// 0 4 2 3
```

2. 自增值枚举类型
通过iota实现一个自增值：
identifier = 1 << ( 10 * iota)



# GOPATH 环境变量
所有的项目、第三方库都放在一个 GOPATH 下。
$ export GOPATH="/Users/cxh/terraform"
$ export PATH="$GOPATH/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin"

PATH 是放可执行文件的。


go get 获取第三方库
go build 来编译
go install 产生 pkg 文件和可执行文件
go run 直接编译运行

目录

[TOC]
一般使用 Webpack 对 React 项目进行打包。打包是一个将文件引入并合并到一个单独文件的过程，最终形成一个 “bundle.js”。 

为了避免打包生成的 bundle.js 文件越来越大，导致加载时间过长，Webpack 提供了代码分割的技术，能够创建多个包并在运行时动态加载它们。

代码分割技术的应用场景：
遇到体积比较大的组件，比如代码编辑器、Echarts图标渲染等，在开发时如果全部同步加载进来，体积会非常的大。

# React的懒加载
```js
import React from 'react';

const OtherComponent = React.lazy(() => import('./OtherComponent'));

function MyComponent() {
  return (
    <div>
      <React.Suspense fallback={<div>Loading...</div>}>
        <OtherComponent />
      </React.Suspense>
    </div>
  );
}
// 1. 强制刷新，可看到 loading （看不到就限制一下 chrome 网速）
// 2. 看 network 的 js 加载
```
通过 import() 、 React.lazy 和 Suspense 共同实现 React 的懒加载，也就是我们常说了运行时动态加载，即 OtherComponent 组件文件被拆分打包为一个新的包（bundle）文件，并且只会在 OtherComponent 组件渲染时，才会被下载到本地。

那么上述中的代码拆分以及动态加载究竟是如何实现的呢？


# import
常规引入包：
```js
import { add } from './math';

console.log(add(16, 26));
```
动态 import() 语法: **返回一个 Promise**
```js
import("./math").then(math => {
  console.log(math.add(16, 26));
});
```


# React.lazy


# React.Suspense


# 面试高频题目
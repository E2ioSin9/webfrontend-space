目录

[TOC]

# 写在前面

在上篇[《重学 JS 系列 - 编译》](https://github.com/cxh0224/blog/issues/7)中讲到：

**JS 引擎每进入一个执行环境，都要进行编译和代码执行**。编译时，会为该环境做一些**准备工作**，比如创建变量对象、确定作用域链等。

这个准备工作，我们用一个专业一点的词，就叫做**执行上下文（Execution context）**。


# 执行上下文的类型
不同的执行环境对应不同的执行上下文，因此，主要有 3 种类型：
- 全局执行上下文
- 函数执行上下文
- eval 函数执行上下文（已不推荐）


# 执行上下文的生命周期
执行上下文的生命周期有两个阶段：创建和执行。

## 创建阶段（进入执行上下文）
这个阶段主要完成上下文的初始化，主要做**三件事情**：
- 创建变量对象(Variable object，VO)
- 确定作用域链(Scope chain)
- 确定 this 指向

我们可以将执行上下文抽象为**一个简单的对象**，这个对象定义了一组用来跟踪执行进度的**属性**，我们称之为**上下文状态**，用代码表示就是：
```js
activeExecutionContext = {
  VO/AO: {
    arguments: <...>, // 仅在函数执行上下文中存在
    // ...
  },
  Scope: <...>,
  this: <...>,
};
```
涉及了变量对象、作用域链、this 等许多重要的概念，这些概念我们在后面的章节中会搞清楚。

## 执行阶段

在代码执行阶段，会顺序执行代码，根据代码，修改变量对象的值。



# 参考
- [JavaScript. The Core.](http://dmitrysoshnikov.com/ecmascript/javascript-the-core/)



# 常见面试题（无）